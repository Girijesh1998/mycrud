{% extends "core/base.html" %} 
{% load static %}
{% block content %}
<div class="container mt-5 mb-4 bg-primary text-center">
  <h2>Function Based Views CRUD</h2>
</div>
<div class="container mb-5">
  <div class="row">
    <div class="col-md-4">
      <h3 class="bg-info fw-bold ft-1 text-center">Add Data</h3>
      <form action="" method="post">
        {% csrf_token %}
        {{form.as_p}}
        <input type="submit" class="btn btn-success" value="Submit" />
      </form>
    </div>
    <div class="col-md-8 text-center">
    
      <h3 class="bg-info fw-bold ft-1">Show Data</h3>
      {% if stu %}
      <table class="table">
          <thead>
              <tr>
                  <th scope="col">Id</th>
                  <th scope="col">First Name</th>
                  <th scope="col">Last Name</th>
                  <th scope="col">Roll</th>
                  <th scope="col">Mobile No.</th>
                  <th scope="col">Email Id</th>
              </tr>
          </thead>
          {% for st in stu %}
          <tbody>
              <tr>
                  <th scope="row">{{st.id}}</th>
                  <td>{{st.fname}}</td>
                  <td>{{st.lname}}</td>
                  <td>{{st.roll}}</td>
                  <td>{{st.mobile}}</td>
                  <td>{{st.email}}</td>
                  <td class="ms-5">
                      <a type="button" href='{% url "StudentUpdate" st.id %}' class="btn btn-warning btn-sm">Edit</a>
                      <form action="{% url 'DeleteStudent' st.id %}" method="post" class="d-inline ms-2">
                        {% csrf_token %}
                        <input type="submit" class="btn btn-danger btn-sm" value="Delete">
                      </form>
                  </td>
              </tr>
              {% endfor %}
          </tbody>
      </table>
      {% endif %}
    </div>
  </div>
</div>
{% endblock content %}
